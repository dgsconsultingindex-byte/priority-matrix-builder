<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PrioBox â€“ Focus What Matters</title>
<link rel="icon" type="image/png" href="images/logo-icon-t.png" />

<!-- GOOGLE ANALYTICS -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3TQ4METDYF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){ dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-3TQ4METDYF');
</script>

<!-- CUSTOM GA4 EVENT FUNCTIONS -->
<script>
  // Hero CTA button click
  function trackHeroCTA() {
    gtag('event', 'cta_clicked', {
      event_category: 'engagement',
      event_label: 'Hero â€“ Get in Touch'
    });
  }

  // Contact section became visible
  function trackOpenContact() {
    gtag('event', 'contact_opened', {
      event_category: 'engagement',
      event_label: 'Contact Section Viewed'
    });
  }

  // Form step navigation
  function trackFormStep(stepNumber) {
    gtag('event', 'contact_form_step', {
      event_category: 'form_progress',
      event_label: 'Step ' + stepNumber
    });
  }

  // Form successfully submitted
  function trackFormSubmitted() {
    gtag('event', 'contact_form_submitted', {
      event_category: 'lead',
      event_label: 'Formspree Submission Success'
    });
  }
</script>

<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial; background:#f9fafb;color:#111;line-height:1.6}
  header{position:fixed;top:0;left:0;right:0;padding:1.2rem 2rem;background:rgba(255,255,255,.9);backdrop-filter:blur(6px);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;z-index:40}
  .logo{font-weight:700;color:#2d4a22}
  nav a{margin-left:1.2rem;color:#333;text-decoration:none}
  .hero{padding:140px 2rem 80px;max-width:1200px;margin:0 auto;display:flex;gap:2.5rem;align-items:center}
  .hero-text h1{font-size:2.6rem;margin-bottom:.6rem}
  .btn-primary{background:#2ea043;color:#fff;padding:.8rem 1.2rem;border-radius:8px;text-decoration:none;font-weight:700;transition:0.3s}
  .btn-primary:hover{background:#268a39}

  /* Contact Section */
  #contact-section {padding:80px 2rem;background:#fff;}
  #contact-section h2{text-align:center;margin-bottom:1rem;font-size:2rem}

  /* Multi-step form */
  #msform{max-width:480px;margin:0 auto;background:#fff;padding:2rem;border-radius:16px;box-shadow:0 10px 28px rgba(0,0,0,.08)}
  fieldset{border:0;display:none}
  fieldset.active{display:block;animation:fadeIn .4s ease}
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

  input, textarea, select{
    width:100%;padding:.9rem;font-size:1rem;border:1px solid #ddd;border-radius:10px;margin-top:.5rem
  }

  .btn{
    padding:.9rem 1.2rem;border-radius:10px;font-size:1rem;border:none;cursor:pointer;font-weight:700;margin-top:1rem;transition:.25s
  }
  .btn-next{background:#2ea043;color:#fff}
  .btn-next:hover{background:#268a39}
  .btn-back{background:#eee;color:#333}
  .btn-back:hover{background:#ddd}
  .btn-submit{background:#2ea043;color:#fff}
  .btn-submit:hover{background:#268a39}

  /* Success box */
  #success-box{
    display:none;
    margin:0 auto;
    max-width:480px;
    background:#dff5e6;
    padding:2rem;
    text-align:center;
    border-radius:16px;
    color:#114b28;
    font-size:1.2rem;
    animation:fadeIn .4s ease;
  }

  /* Honeypot field */
  .hp{display:none !important}
</style>
</head>

<body>

<header>
  <div class="logo">PrioBox</div>
  <nav>
    <a href="#features">Features</a>
    <a href="#value">Benefits</a>
    <a href="#contact-section">Contact</a>
  </nav>
</header>

<section class="hero">
  <div class="hero-text">
    <h1>Focus on the Work That Matters Most.</h1>
    <p style="color:#555;max-width:56ch">Eliminate noise, see your priorities clearly, and move forward with purpose. PrioBox helps you visualize, rank, and execute your highest-impact tasks.</p>

    <!-- HERO CTA â†’ GA TRACKING ADDED -->
    <a class="btn-primary" href="#contact-section" onclick="trackHeroCTA()">Get in Touch</a>
  </div>

  <img src="images/hero-illustration.svg" alt="PrioBox Hero Illustration" style="max-width:420px;width:100%" />
</section>

<section id="contact-section">
  <h2>Contact Us</h2>

  <!-- SUCCESS MESSAGE -->
  <div id="success-box">ðŸŽ‰ Message sent successfully! Weâ€™ll reply soon.</div>

  <!-- MULTI-STEP FORM -->
  <form id="msform" action="https://formspree.io/f/xyzleapr" method="POST">

    <input class="hp" type="text" name="_gotcha">

    <!-- Step 1 -->
    <fieldset class="active">
      <label>Your Name
        <input type="text" name="name" required>
      </label>
      <label>Your Email
        <input type="email" name="email" required>
      </label>

      <button type="button" class="btn btn-next" onclick="nextStep()">Next</button>
    </fieldset>

    <!-- Step 2 -->
    <fieldset>
      <label>What can we help you with?
        <select name="topic" required>
          <option value="">Choose one...</option>
          <option>General Question</option>
          <option>Partnership</option>
          <option>Request Access</option>
          <option>Support</option>
        </select>
      </label>

      <button type="button" class="btn btn-back" onclick="prevStep()">Back</button>
      <button type="button" class="btn btn-next" onclick="nextStep()">Next</button>
    </fieldset>

    <!-- Step 3 -->
    <fieldset>
      <label>Your Message
        <textarea name="message" rows="5" required></textarea>
      </label>

      <button type="button" class="btn btn-back" onclick="prevStep()">Back</button>
      <button type="submit" class="btn btn-submit">Send Message</button>
    </fieldset>

  </form>
</section>

<footer style="text-align:center;padding:40px 2rem;color:#777">
  Â© 2025 PrioBox â€¢ Built by 
  <a href="mailto:DGSConsult@consultant.com">DGS Consulting</a>
</footer>

<script>
let step = 0;
const steps = document.querySelectorAll("fieldset");

function showStep(n){
  steps.forEach((fs,i)=>fs.classList.toggle("active", i===n));
}

function nextStep(){
  if(step < steps.length - 1){
    step++;
    showStep(step);
    trackFormStep(step + 1); // GA tracking
  }
}

function prevStep(){
  if(step > 0){
    step--;
    showStep(step);
    trackFormStep(step + 1); // GA tracking backwards
  }
}

// Contact section viewed (scroll tracking)
const contactObserver = new IntersectionObserver(entries => {
  if(entries[0].isIntersecting){
    trackOpenContact();
    contactObserver.disconnect();
  }
});
contactObserver.observe(document.querySelector('#contact-section'));

// Form submission handler
document.getElementById("msform").addEventListener("submit", async function(e){
  e.preventDefault();

  const form = e.target;

  const res = await fetch(form.action, {
    method: "POST",
    body: new FormData(form),
    headers: { Accept: "application/json" }
  });

  if(res.ok){
    trackFormSubmitted();
    form.style.display = "none";
    document.getElementById("success-box").style.display = "block";
  } else {
    alert("There was an error. Please try again.");
  }
});
</script>

</body>
</html>
